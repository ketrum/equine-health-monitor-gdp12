<svg xmlns:gliffy="http://www.gliffy.com" xmlns:x="http://ns.adobe.com/Extensibility/1.0/" xmlns:i="http://ns.adobe.com/AdobeIllustrator/10.0/" xmlns:graph="http://ns.adobe.com/Graphs/1.0/" xmlns:a="http://ns.adobe.com/AdobeSVGViewerExtensions/3.0/" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="792" height="315"><rect stroke="#000000" stroke-width="0" fill="#ffffff" x="0" y="0" width="791" height="314"/><g transform='translate(6.0,17.5) rotate(0 75.0 12.5)'><g  transform='translate(0.0,17.5)'><text x='75.0' style='text-anchor: middle' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' font-weight='bold' >Polling sensor for data</tspan></text></g></g><g transform='translate(417.5,15.5) rotate(0 89.5 16.5)'><g  transform='translate(0.0,13.5)'><text x='89.5' style='text-anchor: middle' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' font-weight='bold' >Low energy periodic</tspan></text><text x='89.5' style='text-anchor: middle' y='12.8'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' font-weight='bold' >sampling</tspan></text></g></g><g transform='translate(15.5,191.5) rotate(0 99.5 51.5)'><g  transform='translate(0.0,18.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >while(1)</tspan></text><text x='2' style='text-anchor: start' y='12.8'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >{</tspan></text><text x='2' style='text-anchor: start' y='27.6'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    c = readSensor();</tspan></text><text x='2' style='text-anchor: start' y='42.400000000000006'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    if(c != DATA_NOT_READY)</tspan></text><text x='2' style='text-anchor: start' y='57.2'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >        processData(c);</tspan></text><text x='2' style='text-anchor: start' y='72.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >}</tspan></text></g></g><g transform='translate(420.5,184.5) rotate(0 99.5 51.5)'><g  transform='translate(0.0,11.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >while(1)</tspan></text><text x='2' style='text-anchor: start' y='12.8'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >{</tspan></text><text x='2' style='text-anchor: start' y='27.6'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    sleepUntilPeriod();</tspan></text><text x='2' style='text-anchor: start' y='42.400000000000006'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    enablePeripheral();</tspan></text><text x='2' style='text-anchor: start' y='57.2'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    sleepUntilDataReady();</tspan></text><text x='2' style='text-anchor: start' y='72.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >    readPeripheral();</tspan></text><text x='2' style='text-anchor: start' y='86.8'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >}</tspan></text></g></g><g transform='translate(425.0,96.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(425.0,132.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(425.0,168.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(424.0,102.5) rotate(0 75.0 12.5)'><g  transform='translate(0.0,17.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >MCU current</tspan></text></g></g><g transform='translate(423.0,139.5) rotate(0 75.0 12.5)'><g  transform='translate(0.0,17.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >sensor current</tspan></text></g></g><g transform='translate(510.0,71.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='97.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(517.0,124.0)'><line x1='0.0' y1='0.0' x2='78.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(594.0,123.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(593.0,102.0)'><line x1='0.0' y1='0.0' x2='14.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(607.0,123.0)'><line x1='0.0' y1='0.0' x2='46.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(607.0,101.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='23.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(653.0,124.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(652.0,102.0)'><line x1='0.0' y1='0.0' x2='21.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(672.0,103.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(671.0,123.0)'><line x1='0.0' y1='0.0' x2='82.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(517.0,160.0)'><line x1='0.0' y1='0.0' x2='78.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(594.0,159.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(593.0,138.0)'><line x1='0.0' y1='0.0' x2='14.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(607.0,138.0)'><line x1='0.0' y1='0.0' x2='46.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(652.0,138.0)'><line x1='0.0' y1='0.0' x2='21.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(672.0,139.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(671.0,159.0)'><line x1='0.0' y1='0.0' x2='82.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(423.0,74.5) rotate(0 172.0 12.5)'><g  transform='translate(0.0,9.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >phase                            A              B      C        D           </tspan></text><text x='2' style='text-anchor: start' y='12.8'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >A</tspan></text></g></g><g transform='translate(588.0,72.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='98.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(649.0,72.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='97.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(613.0,71.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='97.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(678.0,71.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='98.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(540.0,222.0)'><line x1='0.0' y1='0.0' x2='23.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(563.0,222.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-39.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /><g transform='translate(0.0,-41.0) rotate(450.0)'><polygon points='3.0,0 9.0,-3.0 9.0,3.0' fill='#000000' stroke='#000000' stroke-width='2.0' /></g></g><g transform='translate(544.0,235.0)'><line x1='0.0' y1='0.0' x2='58.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(600.0,235.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-54.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /><g transform='translate(0.0,-56.0) rotate(450.0)'><polygon points='3.0,0 9.0,-3.0 9.0,3.0' fill='#000000' stroke='#000000' stroke-width='2.0' /></g></g><g transform='translate(567.0,251.0)'><line x1='0.0' y1='0.0' x2='64.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(631.0,252.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-72.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /><g transform='translate(0.0,-74.0) rotate(450.0)'><polygon points='3.0,0 9.0,-3.0 9.0,3.0' fill='#000000' stroke='#000000' stroke-width='2.0' /></g></g><g transform='translate(532.0,265.0)'><line x1='0.0' y1='0.0' x2='128.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(661.0,265.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-82.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /><g transform='translate(0.0,-84.0) rotate(450.0)'><polygon points='3.0,0 9.0,-3.0 9.0,3.0' fill='#000000' stroke='#000000' stroke-width='2.0' /></g></g><g transform='translate(563.0,222.0)'><line x1='0.0' y1='0.0' x2='156.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(718.0,222.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-39.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /><g transform='translate(0.0,-41.0) rotate(450.0)'><polygon points='3.0,0 9.0,-3.0 9.0,3.0' fill='#000000' stroke='#000000' stroke-width='2.0' /></g></g><g transform='translate(11.0,94.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(11.0,130.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(11.0,166.0)'><line x1='0.0' y1='0.0' x2='348.0' y2='0.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(10.0,100.5) rotate(0 75.0 12.5)'><g  transform='translate(0.0,17.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >MCU current</tspan></text></g></g><g transform='translate(9.0,137.5) rotate(0 75.0 12.5)'><g  transform='translate(0.0,17.5)'><text x='2' style='text-anchor: start' y='-2.0'><tspan xml:space='preserve' font-size='12' font-family='Arial' fill='#000000' >sensor current</tspan></text></g></g><g transform='translate(96.0,69.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='97.0' stroke-dasharray='3,6' stroke='#000000' stroke-width='2' /></g><g transform='translate(109.0,121.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(109.0,102.0)'><line x1='0.0' y1='0.0' x2='226.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(112.0,165.0)'><line x1='0.0' y1='0.0' x2='0.0' y2='-21.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g><g transform='translate(112.0,146.0)'><line x1='0.0' y1='0.0' x2='226.0' y2='0.0' stroke-dasharray='23, 0' stroke='#000000' stroke-width='2' /></g></svg>